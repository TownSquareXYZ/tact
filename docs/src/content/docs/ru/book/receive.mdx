---
title: Получение сообщений
description: Наиболее распространенный тип сообщений — внутреннее сообщение — сообщение, отправляемое из одного контракта в другой
prev:
  link: /book/functions
  label: Функции
---

TON - это распределенный блокчейн, который означает, что связь между контрактами осуществляется путем отправки и получения сообщений. Наиболее распространенным типом сообщений является внутреннее сообщение - сообщение, отправляемое с одного контракта (или кошелька) на другой.

## Получение внутренних сообщений

Чтобы получить сообщение нужного типа, необходимо объявить функцию-получатель, например, `receive("increment"){:tact}`. Этта нотация означает объявление функции-получателя, которая будет вызвана при отправке текста со значением `"increment"{:tact}` в контракт. Тело функции может изменять состояние контракта и отправлять сообщения другим контрактам. Невозможно вызвать получателя напрямую. Если вам нужно повторно использовать какую-то логику, вы можете объявить функцию и вызвать ее из получателя.

Существует несколько функций получателя. Все функции получателя обрабатываются в порядке, указанном ниже:

- `receive(){:tact}` - вызывается при отправке пустого сообщения в контракт
- `receive("message"){:tact}` - вызывается при отправке текстового сообщения с определенным комментарием в контракт
- `receive(str: String){:tact}` - вызывается при отправке произвольного текстового сообщения в контракт
- `receive(msg: MyMessage){:tact}` - вызывается при отправке двоичного сообщения типа `MyMessage` в контракт
- `receive(msg: Slice){:tact}` - вызывается при отправке двоичного сообщения неизвестного типа в контракт

```tact
message MyMessage {
    value: Int;
}

contract MyContract {
    receive() {
        // ...
    }
    receive("message") {
        // ...
    }
    receive(str: String) {
        // ...
    }
    receive(msg: MyMessage) {
        // ...
    }
    receive(msg: Slice) {
        // ...
    }
}
```

Обозначение параметра функции-получателя символом подчеркивания `_{:tact}` делает его значение неиспользуемым и отбрасываемым. Это полезно, когда вам не нужно проверять полученное сообщение, и вы хотите, чтобы оно передало только определенный код операции:

```tact
message(42) UniverseCalls {}

contract Example {
    receive(_: UniverseCalls) {
        // Получено сообщение с кодом операции 42
    }
}
```
